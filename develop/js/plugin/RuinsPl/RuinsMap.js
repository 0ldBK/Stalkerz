function InitRuinsFrame() {	var html_head = top.frames["plfr"].document.getElementsByTagName("head")[0];	var fmap = top.frames["plfr"].document.createElement("link");	fmap.setAttribute("type", "text/css");	fmap.setAttribute("rel", "stylesheet");	fmap.setAttribute("href", "<%= panelDir %>css/rmap.css");	html_head.appendChild(fmap);	fmap = top.frames["plfr"].document.createElement("script");	fmap.setAttribute("type", "text/javascript");	fmap.text = "var PluginFrame = top.window;\n" +		"var PluginRuins = PluginFrame.PM.plugins['Ruins'];\n" +		"var map = {a1:{name:'Черная башня', trap:false, shackles:false, fight:false, logins:'', color:'#bbb'},\n" +		"	a2:{name:'Северные чертоги', trap:false, shackles:false, fight:false, logins:''},\n" +		"	a3:{name:'Разрушенная северная башня', trap:false, shackles:false, fight:false, logins:''},\n" +		"	a4:{name:'Высохшее водохранилище', trap:false, shackles:false, fight:false, logins:''},\n" +		"	a5:{name:'Северный обрыв', trap:false, shackles:false, fight:false, logins:''},\n" +		"	a6:{name:'Таинственное логово', trap:false, shackles:false, fight:false, logins:''},\n" +		"	a7:{name:'Угрюмый лес', trap:false, shackles:false, fight:false, logins:''},\n" +		"	a8:{name:'Сгоревший частокол', trap:false, shackles:false, fight:false, logins:''},\n" +		"	a9:{name:'Гигантская нора', trap:false, shackles:false, fight:false, logins:''},\n" +		"	a10:{name:'Непроходимый бурьян', trap:false, shackles:false, fight:false, logins:''},\n" +		"	a11:{name:'Часовня темных побуждений', trap:false, shackles:false, fight:false, logins:''},\n" +		"	a12:{name:'Красный трон', trap:false, shackles:false, fight:false, logins:'', color:'#fbb'},\n" +		"	b2:{name:'Западный склон', trap:false, shackles:false, fight:false, logins:''},\n" +		"	b3:{name:'Подземелье смерти', trap:false, shackles:false, fight:false, logins:''},\n" +		"	b4:{name:'Ручей безвольных', trap:false, shackles:false, fight:false, logins:''},\n" +		"	b5:{name:'Незримые топи', trap:false, shackles:false, fight:false, logins:''},\n" +		"	b6:{name:'Хижина болотных ведьм', trap:false, shackles:false, fight:false, logins:''},\n" +		"	b7:{name:'Сгоревшая лесопилка', trap:false, shackles:false, fight:false, logins:''},\n" +		"	b8:{name:'Хижина лесничего', trap:false, shackles:false, fight:false, logins:''},\n" +		"	b9:{name:'Сломанный дуб', trap:false, shackles:false, fight:false, logins:''},\n" +		"	b10:{name:'Забытые ворота', trap:false, shackles:false, fight:false, logins:''},\n" +		"	b11:{name:'Лестница темных побуждений', trap:false, shackles:false, fight:false, logins:''},\n" +		"	c2:{name:'Западный тупик', trap:false, shackles:false, fight:false, logins:''},\n" +		"	c3:{name:'Забытый алтарь', trap:false, shackles:false, fight:false, logins:''},\n" +		"	c4:{name:'Лабиринт отступников', trap:false, shackles:false, fight:false, logins:''},\n" +		"	c5:{name:'Проклятая часовня', trap:false, shackles:false, fight:false, logins:''},\n" +		"	c6:{name:'Зловонные каналы', trap:false, shackles:false, fight:false, logins:''},\n" +		"	c7:{name:'Скрытый грот', trap:false, shackles:false, fight:false, logins:''},\n" +		"	c8:{name:'Заброшенный огород', trap:false, shackles:false, fight:false, logins:''},\n" +		"	c9:{name:'Развалины старой колокольни', trap:false, shackles:false, fight:false, logins:''},\n" +		"	c10:{name:'Башня дракона', trap:false, shackles:false, fight:false, logins:''},\n" +		"	c11:{name:'Кузница дьявола', trap:false, shackles:false, fight:false, logins:''},\n" +		"	d4:{name:'Западные захоронения', trap:false, shackles:false, fight:false, logins:''},\n" +		"	d5:{name:'Северная окраина кладбища', trap:false, shackles:false, fight:false, logins:''},\n" +		"	d7:{name:'Северные захоронения', trap:false, shackles:false, fight:false, logins:''},\n" +		"	d9:{name:'Восточная окраина кладбища', trap:false, shackles:false, fight:false, logins:''},\n" +		"	e2:{name:'Овраг мучений', trap:false, shackles:false, fight:false, logins:''},\n" +		"	e3:{name:'Кровавый перекресток', trap:false, shackles:false, fight:false, logins:''},\n" +		"	e4:{name:'Одинокая могила', trap:false, shackles:false, fight:false, logins:''},\n" +		"	graveyard:{name:'Кладбище', trap:false, shackles:false, fight:false, logins:'', color:'#bfb'},\n" +		"	e9:{name:'Таинственный склеп', trap:false, shackles:false, fight:false, logins:''},\n" +		"	e10:{name:'Перекресток проклятых', trap:false, shackles:false, fight:false, logins:''},\n" +		"	e11:{name:'Черная заводь', trap:false, shackles:false, fight:false, logins:''},\n" +		"	f4:{name:'Западная окраина кладбища', trap:false, shackles:false, fight:false, logins:''},\n" +		"	f5:{name:'Южные захоронения', trap:false, shackles:false, fight:false, logins:''},\n" +		"	f7:{name:'Южная окраина кладбища', trap:false, shackles:false, fight:false, logins:''},\n" +		"	f9:{name:'Восточные захоронения', trap:false, shackles:false, fight:false, logins:''},\n" +		"	g2:{name:'Утес безумия', trap:false, shackles:false, fight:false, logins:''},\n" +		"	g3:{name:'Дворы повешенных', trap:false, shackles:false, fight:false, logins:''},\n" +		"	g4:{name:'Тоннель оживших мертвецов', trap:false, shackles:false, fight:false, logins:''},\n" +		"	g5:{name:'Бесформенный завал', trap:false, shackles:false, fight:false, logins:''},\n" +		"	g6:{name:'Секретный проход', trap:false, shackles:false, fight:false, logins:''},\n" +		"	g7:{name:'Подворотня слез', trap:false, shackles:false, fight:false, logins:''},\n" +		"	g8:{name:'Сгоревшие конюшни', trap:false, shackles:false, fight:false, logins:''},\n" +		"	g9:{name:'Холм висельников', trap:false, shackles:false, fight:false, logins:''},\n" +		"	g10:{name:'Старый сарай', trap:false, shackles:false, fight:false, logins:''},\n" +		"	g11:{name:'Вход в катакомбы', trap:false, shackles:false, fight:false, logins:''},\n" +		"	h2:{name:'Лестница благих намерений', trap:false, shackles:false, fight:false, logins:''},\n" +		"	h3:{name:'Рыночная площадь', trap:false, shackles:false, fight:false, logins:''},\n" +		"	h4:{name:'Подворотня страха', trap:false, shackles:false, fight:false, logins:''},\n" +		"	h5:{name:'Разрушенная казарма', trap:false, shackles:false, fight:false, logins:''},\n" +		"	h6:{name:'Площадь забытых мастеров', trap:false, shackles:false, fight:false, logins:''},\n" +		"	h7:{name:'Заброшеный склад', trap:false, shackles:false, fight:false, logins:''},\n" +		"	h8:{name:'Ратушная площадь', trap:false, shackles:false, fight:false, logins:''},\n" +		"	h9:{name:'Южный тупик', trap:false, shackles:false, fight:false, logins:''},\n" +		"	h10:{name:'Опустевшее хранилище', trap:false, shackles:false, fight:false, logins:''},\n" +		"	h11:{name:'Восточные ворота', trap:false, shackles:false, fight:false, logins:''},\n" +		"	i1:{name:'Синий трон', trap:false, shackles:false, fight:false, logins:'', color:'#bbf'},\n" +		"	i2:{name:'Часовня благих намерений', trap:false, shackles:false, fight:false, logins:''},\n" +		"	i3:{name:'Развалины южных ворот', trap:false, shackles:false, fight:false, logins:''},\n" +		"	i4:{name:'Зловещие провалы', trap:false, shackles:false, fight:false, logins:''},\n" +		"	i5:{name:'Оградительный вал', trap:false, shackles:false, fight:false, logins:''},\n" +		"	i6:{name:'Главные ворота', trap:false, shackles:false, fight:false, logins:''},\n" +		"	i7:{name:'Южные развалины', trap:false, shackles:false, fight:false, logins:''},\n" +		"	i8:{name:'Проклятое место', trap:false, shackles:false, fight:false, logins:''},\n" +		"	i9:{name:'Сумеречный провал', trap:false, shackles:false, fight:false, logins:''},\n" +		"	i10:{name:'Разрушенная южная башня', trap:false, shackles:false, fight:false, logins:''},\n" +		"	i11:{name:'Бойница стойкости', trap:false, shackles:false, fight:false, logins:''},\n" +		"	i12:{name:'Белая башня', trap:false, shackles:false, fight:false, logins:'', color:'#fff'}};\n" +		"function Check(p, cell) {\n" +		"	if (cell.tagName != 'TD') {\n" +		"		cell = cell.parentNode;\n" +		"	}\n" +		"	var s = cell.innerHTML;\n" +		"	var xy, el;\n" +		"	if (p == 'T') {\n" +		"		if (map[cell.id].trap) {\n" +		"			cell.removeChild(document.getElementById('T' + cell.id));\n" +		"			/*if (PluginRuins.options.loc) {\n" +		"				PluginFrame.$.getScript('');\n" +		"			}*/\n" +		"		} else {\n" +		"			xy = cell.getBoundingClientRect();\n" +		"			el = document.createElement('div');\n" +		"			el.id = 'T' + cell.id;\n" +		"			el.style.position = 'absolute';\n" +		"			el.style.top = (xy.top + 1) + 'px';\n" +		"			el.style.left = (xy.left + 1) + 'px';\n" +		"			el.style.width = '10px';\n" +		"			el.style.height = '9px';\n" +		"			el.style.backgroundColor = '#bff';\n" +		"			el.style.color = '#000';\n" +		"			el.style.fontSize = '5pt';\n" +		"			el.innerHTML = 'T';\n" +		"			cell.appendChild(el);\n" +		"			/*if (PluginRuins.options.loc) {\n" +		"				PluginFrame.$.getScript('');\n" +		"			}*/\n" +		"		}\n" +		"		map[cell.id].trap = !map[cell.id].trap;\n" +		"	}\n" +		"	if (p == 'E') {\n" +		"		if (map[cell.id].shackles) {\n" +		"			cell.removeChild(document.getElementById('E' + cell.id));\n" +		"			/*if (PluginRuins.options.loc) {\n" +		"				PluginFrame.$.getScript('');\n" +		"			}*/\n" +		"		} else {\n" +		"			xy = cell.getBoundingClientRect();\n" +		"			el = document.createElement('div');\n" +		"			el.id = 'E' + cell.id;\n" +		"			el.style.position = 'absolute';\n" +		"			el.style.top = (xy.bottom - 10) + 'px';\n" +		"			el.style.left = (xy.left + 1) + 'px';\n" +		"			el.style.width = '10px';\n" +		"			el.style.height = '9px';\n" +		"			el.style.backgroundColor = '#ffb';\n" +		"			el.style.color = '#000';\n" +		"			el.style.fontSize = '5pt';\n" +		"			el.innerHTML = 'E';\n" +		"			cell.appendChild(el);\n" +		"			/*if (PluginRuins.options.loc) {\n" +		"				PluginFrame.$.getScript('');\n" +		"			}*/\n" +		"		}\n" +		"		map[cell.id].shackles = !map[cell.id].shackles;\n" +		"	}\n" +		"	if (p == 'F') {\n" +		"		if (map[cell.id].fight) {\n" +		"			cell.removeChild(document.getElementById('F' + cell.id));\n" +		"			/*if (PluginRuins.options.loc) {\n" +		"				PluginFrame.$.getScript('');\n" +		"			}*/\n" +		"		} else {\n" +		"			xy = cell.getBoundingClientRect();\n" +		"			el = document.createElement('div');\n" +		"			el.id = 'F' + cell.id;\n" +		"			el.style.position = 'absolute';\n" +		"			el.style.top = (xy.top + 1) + 'px';\n" +		"			el.style.left = (xy.right - 11) + 'px';\n" +		"			el.style.width = '10px';\n" +		"			el.style.height = '9px';\n" +		"			el.style.backgroundColor = '#f66';\n" +		"			el.style.color = '#000';\n" +		"			el.style.fontSize = '5pt';\n" +		"			el.innerHTML = 'F';\n" +		"			cell.appendChild(el);\n" +		"			/*if (PluginRuins.options.loc) {\n" +		"				PluginFrame.$.getScript('');\n" +		"			}*/\n" +		"		}\n" +		"		map[cell.id].fight = !map[cell.id].fight;\n" +		"	}\n" +		"	el = null;\n" +		"}\n" +		"function defPosition(event) {\n" +		"	var x = y = 0;\n" +		"	if (document.attachEvent != null) { // Internet Explorer & Opera\n" +		"		x = window.event.clientX + (document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft);\n" +		"		y = window.event.clientY + (document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop);\n" +		"		if (window.event.clientY + 10 > document.body.clientHeight) { y-=6 } else { y-=2 }\n" +		"	} else if (!document.attachEvent && document.addEventListener) { // Gecko\n" +		"		x = event.clientX + window.scrollX;\n" +		"		y = event.clientY + window.scrollY;\n" +		"		if (event.clientY + 10 > document.body.clientHeight) { y-=6 } else { y-=2 }\n" +		"	} else {\n" +		"		// Do nothing\n" +		"	}\n" +		"	return {x:x, y:y};\n" +		"}\n" +		"function OpenMenu(evt, level) {\n" +		"	evt = evt || window.event;\n" +		"	evt.cancelBubble = true;\n" +		"	// Показываем собственное контекстное меню\n" +		"	var menu = document.getElementById('oMenu');\n" +		"	var html = '';\n" +		"	cell = (evt.target || evt.srcElement);\n" +		"	html  = '<a href=\"javascript:void(0)\" class=\"menuItem\" onclick=\"Check(\\\'T\\\', cell); cMenu();\">Ловушка</a><br>' +\n" +		"	'<a href=\"javascript:void(0)\" class=\"menuItem\" onclick=\"Check(\\\'E\\\', cell); cMenu();\">Враг в путах</a><br>' +\n" +		"	'<a href=\"javascript:void(0)\" class=\"menuItem\" onclick=\"Check(\\\'F\\\', cell); cMenu();\">Идут бои</a><br>' +\n" +		"	'<a href=\"javascript:void(0)\" class=\"menuItem\" onclick=\"cMenu();\">Отмена</a>';\n" +		"	// Если есть что показать - показываем\n" +		"	if (html) {\n" +		"		menu.innerHTML = html;\n" +		"		posx = defPosition(evt).y;\n" +		"		posy = defPosition(evt).x;\n" +		"		if (posy > 120) {\n" +		"			if (document.body.offsetWidth - posy < 100) posy = posy - 103;\n" +		"		}\n" +		"		menu.style.top = posx + 'px';\n" +		"		menu.style.left = posy + 'px';\n" +		"		menu.style.display = '';\n" +		"	}\n" +		"	// Блокируем всплывание стандартного браузерного меню\n" +		"	return false;\n" +		"}\n" +		"function cMenu() {\n" +		"	document.getElementById('oMenu').style.display = 'none';\n" +		"}\n" +		"function ShowInfo(el, y) {\n" +		"	var shift = 0;\n" +		"	if (!y) y = 0;\n" +		"	var info = '<b>' + map[el.id].name + '</b>';\n" +		"	if (map[el.id].logins != '') {\n" +		"		info += '<br>------<br>' + map[el.id].logins.replace(',', '<br>');\n" +		"	}\n" +		"	if (parseInt(el.id.substr(1)) > 9) {\n" +		"		ShowThing(el, 42, 27 + y, info, 1);\n" +		"	} else {\n" +		"		ShowThing(el, 2, 27 + y, info);\n" +		"	}\n" +		"}\n" +		"function resize_map() {\n" +		"	if (top.document.getElementById('plfs').cols == '*,400') {\n" +		"		document.getElementById('m').style.display = 'none';\n" +		"		top.document.getElementById('plfs').cols = '*,16';\n" +		"	} else {\n" +		"		document.getElementById('m').style.display = 'block';\n" +		"		top.document.getElementById('plfs').cols = '*,400';\n" +		"	}\n" +		"}\n" +		"function FindLoc(txt) {\n" +		"	for (var id in map) {\n" +		"		if (txt.length > 0 && map[id].name.toLowerCase().indexOf(txt.toLowerCase()) >= 0) {\n" +		"			document.getElementById(id).style.color = '#f00';\n" +		"			document.getElementById(id).style.fontWeight = 'bold';\n" +		"		} else {\n" +		"			document.getElementById(id).style.color = '#000';\n" +		"			document.getElementById(id).style.fontWeight = 'normal';\n" +		"		}\n" +		"	}\n" +		"}\n" +		"function SayGo(direction) {\n" +		"	PluginFrame.$('#ssmtext', top.frames['bottom'].document.body).val('private [team-' + PluginRuins.Team + '] ' + \n" +		"		(PluginRuins.SayProfile?PluginRuins.options.profile + ' ':'') + PluginRuins.Location.toUpperCase() + ' ' + direction);\n" +		"	top.frames['bottom'].subm(); top.frames['bottom'].document.forms[0].submit();\n" +		"	PluginRuins.SayProfile = false;\n" +		"}\n" +		"function RefreshMap(loc) {\n" +		"	for (var id in map) {\n" +		"		var cell = document.getElementById(id);\n" +		"		if (!map[id].trap && document.getElementById('T' + id) != null) {\n" +		"			cell.removeChild(document.getElementById('T' + id));\n" +		"		} else if (map[id].trap && document.getElementById('T' + id) == null) {\n" +		"			xy = cell.getBoundingClientRect();\n" +		"			el = document.createElement('div');\n" +		"			el.id = 'T' + id;\n" +		"			el.style.position = 'absolute';\n" +		"			el.style.top = (xy.top + 1) + 'px';\n" +		"			el.style.left = (xy.left + 1) + 'px';\n" +		"			el.style.width = '10px';\n" +		"			el.style.height = '9px';\n" +		"			el.style.backgroundColor = '#bff';\n" +		"			el.style.color = '#000';\n" +		"			el.style.fontSize = '5pt';\n" +		"			el.innerHTML = 'T';\n" +		"			cell.appendChild(el);\n" +		"		}\n" +		"		if (!map[id].shackles && document.getElementById('E' + id) != null) {\n" +		"			cell.removeChild(document.getElementById('E' + id));\n" +		"		} else if (map[id].shackles && document.getElementById('E' + id) == null) {\n" +		"			xy = cell.getBoundingClientRect();\n" +		"			el = document.createElement('div');\n" +		"			el.id = 'E' + id;\n" +		"			el.style.position = 'absolute';\n" +		"			el.style.top = (xy.bottom - 10) + 'px';\n" +		"			el.style.left = (xy.left + 1) + 'px';\n" +		"			el.style.width = '10px';\n" +		"			el.style.height = '9px';\n" +		"			el.style.backgroundColor = '#ffb';\n" +		"			el.style.color = '#000';\n" +		"			el.style.fontSize = '5pt';\n" +		"			el.innerHTML = 'E';\n" +		"			cell.appendChild(el);\n" +		"		}\n" +		"		if (!map[id].fight && document.getElementById('F' + id) != null) {\n" +		"			cell.removeChild(document.getElementById('F' + id));\n" +		"		} else if (map[id].fight && document.getElementById('F' + id) == null) {\n" +		"			xy = cell.getBoundingClientRect();\n" +		"			el = document.createElement('div');\n" +		"			el.id = 'F' + id;\n" +		"			el.style.position = 'absolute';\n" +		"			el.style.top = (xy.top + 1) + 'px';\n" +		"			el.style.left = (xy.right - 11) + 'px';\n" +		"			el.style.width = '10px';\n" +		"			el.style.height = '9px';\n" +		"			el.style.backgroundColor = '#f66';\n" +		"			el.style.color = '#000';\n" +		"			el.style.fontSize = '5pt';\n" +		"			el.innerHTML = 'F';\n" +		"			cell.appendChild(el);\n" +		"		}\n" +		"		if (map[id].logins == '' && document.getElementById('P' + id) != null) {\n" +		"			cell.removeChild(document.getElementById('P' + id));\n" +		"		} else if (map[id].logins != '' && document.getElementById('P' + id) == null) {\n" +		"			xy = cell.getBoundingClientRect();\n" +		"			el = document.createElement('div');\n" +		"			el.id = 'P' + id;\n" +		"			el.style.position = 'absolute';\n" +		"			el.style.top = (xy.bottom - 10) + 'px';\n" +		"			el.style.left = (xy.right - 11) + 'px';\n" +		"			el.style.width = '10px';\n" +		"			el.style.height = '9px';\n" +		"			el.style.backgroundColor = '#6f6';\n" +		"			el.style.color = '#00f';\n" +		"			el.style.fontSize = '5pt';\n" +		"			el.innerHTML = map[id].logins.split(',').length;\n" +		"			cell.appendChild(el);\n" +		"		}\n" +		"		if (loc != 'fight') {\n" +		"			if (map[id].name.toLowerCase() == loc.toLowerCase()) {\n" +		"				PluginRuins.Location = document.getElementById(id).innerHTML.substring(0, 3);\n" +		"				document.getElementById(id).style.backgroundColor = '#faf';\n" +		"			} else {\n" +		"				document.getElementById(id).style.backgroundColor = (map[id].color || '#d7d7d7');\n" +		"			}\n" +		"		}\n" +		"	}\n" +		"}";	html_head.appendChild(fmap);	top.frames["plfr"].document.body.innerHTML = "<div id='m'>\n" +		"	<table cellspacing=0 cellpadding=0 style='text-align: center;'>\n" +		"		<tr>\n" +		"			<td id='a1' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-tlb' style='background-color: #bbb'>а1</td>\n" +		"			<td id='a2' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-t'>а2</td>\n" +		"			<td id='a3' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-t'>а3</td>\n" +		"			<td id='a4' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-t'>а4</td>\n" +		"			<td id='a5' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-t'>а5</td>\n" +		"			<td id='a6' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-t'>а6</td>\n" +		"			<td id='a7' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-t'>а7</td>\n" +		"			<td id='a8' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-t'>а8</td>\n" +		"			<td id='a9' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-t'>а9</td>\n" +		"			<td id='a10' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-t'>а10</td>\n" +		"			<td id='a11' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-t'>а11</td>\n" +		"			<td id='a12' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-trb' style='background-color: #fbb'>а12</td>\n" +		"		</tr>\n" +		"		<tr>\n" +		"			<td></td>\n" +		"			<td id='b2' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-l'>б2</td>\n" +		"			<td id='b3' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r'>б3</td>\n" +		"			<td id='b4' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-t'>б4</td>\n" +		"			<td id='b5' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r'>б5</td>\n" +		"			<td id='b6' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-t'>б6</td>\n" +		"			<td id='b7' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-t'>б7</td>\n" +		"			<td id='b8' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r'>б8</td>\n" +		"			<td id='b9' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-t'>б9</td>\n" +		"			<td id='b10' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r'>б10</td>\n" +		"			<td id='b11' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-r'>б11</td>\n" +		"			<td></td>\n" +		"		</tr>\n" +		"		<tr>\n" +		"			<td></td>\n" +		"			<td id='c2' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-l'>в2</td>\n" +		"			<td id='c3' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r'>в3</td>\n" +		"			<td id='c4' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r'>в4</td>\n" +		"			<td id='c5' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-t'>в5</td>\n" +		"			<td id='c6' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r'>в6</td>\n" +		"			<td id='c7' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r'>в7</td>\n" +		"			<td id='c8' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-t'>в8</td>\n" +		"			<td id='c9' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r'>в9</td>\n" +		"			<td id='c10' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r'>в10</td>\n" +		"			<td id='c11' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-r'>в11</td>\n" +		"			<td></td>\n" +		"		</tr>\n" +		"		<tr>\n" +		"			<td></td>\n" +		"			<td id='e2' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this, 60)' oncontextmenu='return OpenMenu(event, 9)' rowspan=3 class='r-l'>д2</td>\n" +		"			<td id='e3' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this, 60)' oncontextmenu='return OpenMenu(event, 9)' rowspan=3 class='r'>д3</td>\n" +		"			<td id='d4' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-l'>г4</td>\n" +		"			<td id='d5' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' colspan=2 class='r-t'>г5</td>\n" +		"			<td id='d7' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' colspan=2 class='r-t'>г7</td>\n" +		"			<td id='d9' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-r'>г9</td>\n" +		"			<td id='e10' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this, 60)' oncontextmenu='return OpenMenu(event, 9)' rowspan=3 class='r1'>д10</td>\n" +		"			<td id='e11' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this, 60)' oncontextmenu='return OpenMenu(event, 9)' rowspan=3 class='r-r'>д11</td>\n" +		"			<td></td>\n" +		"		</tr>\n" +		"		<tr>\n" +		"			<td></td>\n" +		"			<td id='e4' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-r'>д4</td>\n" +		"			<td id='graveyard' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return false;' colspan=4 class='r-r1' style='background-color: #bfb'>кладка</td>\n" +		"			<td id='e9' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-l'>д9</td>\n" +		"			<td></td>\n" +		"		</tr>\n" +		"		<tr>\n" +		"			<td></td>\n" +		"			<td id='f4' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-l'>е4</td>\n" +		"			<td id='f5' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' colspan=2 class='r'>е5</td>\n" +		"			<td id='f7' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' colspan=2 class='r'>е7</td>\n" +		"			<td id='f9' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-r'>е9</td>\n" +		"			<td></td>\n" +		"		</tr>\n" +		"		<tr>\n" +		"			<td></td>\n" +		"			<td id='g2' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-l'>ж2</td>\n" +		"			<td id='g3' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r'>ж3</td>\n" +		"			<td id='g4' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r'>ж4</td>\n" +		"			<td id='g5' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-t'>ж5</td>\n" +		"			<td id='g6' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-t'>ж6</td>\n" +		"			<td id='g7' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-t'>ж7</td>\n" +		"			<td id='g8' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-t'>ж8</td>\n" +		"			<td id='g9' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r'>ж9</td>\n" +		"			<td id='g10' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r'>ж10</td>\n" +		"			<td id='g11' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-r'>ж11</td>\n" +		"			<td></td>\n" +		"		</tr>\n" +		"		<tr>\n" +		"			<td></td>\n" +		"			<td id='h2' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-l'>з2</td>\n" +		"			<td id='h3' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r'>з3</td>\n" +		"			<td id='h4' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r'>з4</td>\n" +		"			<td id='h5' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-t'>з5</td>\n" +		"			<td id='h6' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r'>з6</td>\n" +		"			<td id='h7' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r'>з7</td>\n" +		"			<td id='h8' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-t'>з8</td>\n" +		"			<td id='h9' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r'>з9</td>\n" +		"			<td id='h10' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r'>з10</td>\n" +		"			<td id='h11' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-r'>з11</td>\n" +		"			<td></td>\n" +		"		</tr>\n" +		"		<tr>\n" +		"			<td id='i1' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-tlb' style='background-color: #bbf'>и1</td>\n" +		"			<td id='i2' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-b'>и2</td>\n" +		"			<td id='i3' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-b'>и3</td>\n" +		"			<td id='i4' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-bt'>и4</td>\n" +		"			<td id='i5' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-b'>и5</td>\n" +		"			<td id='i6' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-bt'>и6</td>\n" +		"			<td id='i7' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-bt'>и7</td>\n" +		"			<td id='i8' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-b'>и8</td>\n" +		"			<td id='i9' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-bt'>и9</td>\n" +		"			<td id='i10' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-b'>и10</td>\n" +		"			<td id='i11' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-b'>и11</td>\n" +		"			<td id='i12' onMouseOut='HideThing(this)' onMouseOver='ShowInfo(this)' oncontextmenu='return OpenMenu(event, 9)' class='r-trb' style='background-color: #fff'>и12</td>\n" +		"		</tr>\n" +		"	</table>\n" +		"	<br>\n" +		"	Поиск локации: <input id='floc' type='text' ondrop='FindLoc(event.dataTransfer.getData(\"text\"))' onkeyup='FindLoc(this.value)'>&nbsp;<input type='button' value='Очистить' onclick='document.getElementById(\"floc\").value = \"\"; FindLoc(\"\");'><br><br>\n" +		"	<table border=0 cellspacing=0 cellpadding=0 width=100%>\n" +		"		<tr>\n" +		"			<td style='cursor: default'>\n" +		"				<div class='rdiv' style='background-color: #f66'>F</div> - идут бои<br>\n" +		"				<div class='rdiv' style='background-color: #bff'>T</div> - ловушка<br>\n" +		"				<div class='rdiv' style='background-color: #ffb'>E</div> - враг в путах<br>\n" +		"				<div class='rdiv' style='background-color: #6f6'>0</div> - количество союзников в локации<br>\n" +		"			</td><td align=center style='cursor: default;'>\n" +		"				<input type=button value='&uarr;' onclick='SayGo(\"вверх\")'><br>\n" +		"				<input type=button value='&#8592;' onclick='SayGo(\"влево\")'><input type=button value='&#8594;' onclick='SayGo(\"вправо\")'><br>\n" +		"				<input type=button value='&#8595;' onclick='SayGo(\"вниз\")'>\n" +		"			</td>\n" +		"		</tr>\n" +		"	</table>\n" +		"</div>\n" +		"<div style='border: 1px solid #000; width: 1em; line-height: 1em; position: absolute; right: 1px; bottom: 1px; cursor: pointer; text-align: center; background-color: #fcc' onclick='resize_map();'>К а р т а</div><br>\n" +		"<div id='oMenu' style='position:absolute; border:1px solid #666; background-color:#CCC; display:none; padding-left: 3px; padding-right: 3px;'></div>";	fmap = top.frames["plfr"].document.createElement("script");	fmap.setAttribute("type", "text/javascript");	fmap.text = "RefreshMap('2');";	html_head.appendChild(fmap);}InitRuinsFrame();